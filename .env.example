# ==============================================================================
# SkyCamOS - Variaveis de Ambiente
# Sistema de Monitoramento de Cameras IP
# ==============================================================================
# INSTRUCOES:
# 1. Copie este arquivo para .env
# 2. Preencha os valores conforme seu ambiente
# 3. NUNCA commite o arquivo .env no repositorio
# ==============================================================================

# ==============================================================================
# Ambiente
# ==============================================================================
# Ambiente de execucao: development, staging, production
ENVIRONMENT=development

# Modo debug (true/false) - NUNCA use true em producao
DEBUG=true

# Nivel de log: debug, info, warning, error, critical
LOG_LEVEL=info

# ==============================================================================
# API / Backend
# ==============================================================================
# Porta da API
API_PORT=8000

# Host da API (0.0.0.0 para aceitar conexoes externas)
API_HOST=0.0.0.0

# Chave secreta para JWT e criptografia
# IMPORTANTE: Gere uma chave forte em producao!
# Use: python -c "import secrets; print(secrets.token_urlsafe(64))"
SECRET_KEY=your-super-secret-key-change-in-production-min-64-chars

# Algoritmo de criptografia JWT
JWT_ALGORITHM=HS256

# Tempo de expiracao do token JWT (em minutos)
JWT_EXPIRE_MINUTES=30

# Tempo de expiracao do refresh token (em dias)
JWT_REFRESH_DAYS=7

# ==============================================================================
# CORS - Cross-Origin Resource Sharing
# ==============================================================================
# Origens permitidas (separadas por virgula)
CORS_ORIGINS=http://localhost:3000,http://localhost:8080,http://127.0.0.1:8080

# ==============================================================================
# Banco de Dados
# ==============================================================================
# URL de conexao com o banco de dados
# SQLite (desenvolvimento):
DATABASE_URL=sqlite:///./data/skycamos.db

# PostgreSQL (producao - exemplo):
# DATABASE_URL=postgresql://user:password@localhost:5432/skycamos

# Tamanho do pool de conexoes (para PostgreSQL)
DATABASE_POOL_SIZE=5
DATABASE_MAX_OVERFLOW=10

# ==============================================================================
# Redis (Cache e Filas)
# ==============================================================================
# URL de conexao com Redis
REDIS_URL=redis://localhost:6379/0

# Porta do Redis (para docker-compose)
REDIS_PORT=6379

# ==============================================================================
# Armazenamento
# ==============================================================================
# Caminho para armazenamento de gravacoes
STORAGE_PATH=./recordings

# Limite maximo de armazenamento em GB
MAX_STORAGE_GB=100

# Politica de retencao de gravacoes (em dias)
RETENTION_DAYS=30

# Qualidade padrao das gravacoes: low, medium, high, ultra
DEFAULT_RECORDING_QUALITY=high

# ==============================================================================
# Cameras
# ==============================================================================
# Numero maximo de cameras suportadas
MAX_CAMERAS=16

# Timeout de conexao com cameras (em segundos)
CAMERA_CONNECTION_TIMEOUT=10

# Intervalo de verificacao de status das cameras (em segundos)
CAMERA_HEALTH_CHECK_INTERVAL=60

# ==============================================================================
# Streaming
# ==============================================================================
# Porta para streaming HLS
HLS_PORT=8888

# Segmentos HLS (em segundos)
HLS_SEGMENT_DURATION=2

# Numero de segmentos HLS no playlist
HLS_PLAYLIST_SIZE=5

# ==============================================================================
# Deteccao de Movimento
# ==============================================================================
# Habilitar deteccao de movimento
MOTION_DETECTION_ENABLED=true

# Sensibilidade da deteccao (1-100)
MOTION_SENSITIVITY=50

# Tamanho minimo do objeto detectado (em pixels)
MOTION_MIN_AREA=500

# ==============================================================================
# Notificacoes
# ==============================================================================
# Habilitar notificacoes push
PUSH_NOTIFICATIONS_ENABLED=false

# Provedor de notificacoes: firebase, onesignal, custom
PUSH_PROVIDER=firebase

# Firebase Cloud Messaging (se usar Firebase)
# FCM_SERVER_KEY=your-fcm-server-key
# FCM_PROJECT_ID=your-project-id

# ==============================================================================
# Email (para alertas e recuperacao de senha)
# ==============================================================================
SMTP_ENABLED=false
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM=noreply@skycamos.local
SMTP_TLS=true

# ==============================================================================
# Frontend
# ==============================================================================
# Porta do frontend
FRONTEND_PORT=8080

# URL publica do frontend (para links em emails, etc.)
FRONTEND_URL=http://localhost:8080

# ==============================================================================
# Docker
# ==============================================================================
# Caminhos para volumes Docker
DATA_PATH=./data
RECORDINGS_PATH=./recordings
LOGS_PATH=./logs

# ==============================================================================
# Monitoramento e Metricas
# ==============================================================================
# Habilitar metricas Prometheus
PROMETHEUS_ENABLED=false
PROMETHEUS_PORT=9090

# Habilitar tracing (Jaeger/OpenTelemetry)
TRACING_ENABLED=false
JAEGER_AGENT_HOST=localhost
JAEGER_AGENT_PORT=6831

# ==============================================================================
# Seguranca Adicional
# ==============================================================================
# Limite de tentativas de login antes de bloquear
LOGIN_RATE_LIMIT=5

# Tempo de bloqueio apos exceder tentativas (em minutos)
LOGIN_LOCKOUT_MINUTES=15

# Habilitar autenticacao de dois fatores
TWO_FACTOR_AUTH_ENABLED=false

# Forcar HTTPS em producao
FORCE_HTTPS=false

# ==============================================================================
# Desenvolvimento
# ==============================================================================
# Habilitar hot-reload
HOT_RELOAD=true

# Habilitar documentacao Swagger/OpenAPI
DOCS_ENABLED=true

# Prefixo da documentacao
DOCS_URL=/docs
REDOC_URL=/redoc
